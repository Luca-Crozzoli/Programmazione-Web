(function(e){function t(t){for(var a,s,r=t[0],l=t[1],u=t[2],m=0,d=[];m<r.length;m++)s=r[m],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0702":function(e,t,n){},"073c":function(e,t,n){"use strict";n("0702")},"230d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("router-view")],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h1",[e._v("Luca's Sharing Platform")])])}],s={name:"App"},r=s,l=(n("034f"),n("2877")),u=Object(l["a"])(r,o,i,!1,null,null,null),c=u.exports,m=(n("f9e3"),n("2dd8"),n("1e18")),d=(n("caad"),n("2532"),n("8c4f")),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[e._m(0),n("section",{directives:[{name:"show",rawName:"v-show",value:"home"===e.section,expression:"section === 'home'"}]},[n("Login",{on:{login:e.displayMessage,loginuser:e.loginuserpage}}),n("b-button",{on:{click:function(t){e.section="registration"}}},[e._v("Sign in")])],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"registration"===e.section,expression:"section === 'registration'"}]},[n("Registration",{attrs:{applicant:"consumer",role:"consumer"},on:{registration:e.registration}}),n("b-button",{on:{click:function(t){e.section="home"}}},[e._v("Already have an account")])],1),n("Toasts",{attrs:{error:e.error,warning:e.warning,success:e.success}})],1)},f=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h2",[e._v("Home page")])])}],h=(n("2ca0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._m(0),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("Credential",{attrs:{required:!0,username:e.username,password:e.password},on:{"update:username":function(t){e.username=t},"update:password":function(t){e.password=t}}}),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1)],1)}),g=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Login")])])}],v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-form-group",{directives:[{name:"show",rawName:"v-show",value:"consumer"!==e.applicant,expression:"applicant !== 'consumer'"}],attrs:{label:"Username:","label-for":e.usernameInputId}},[n("b-form-text",{directives:[{name:"show",rawName:"v-show",value:"modify"===e.context,expression:"context === 'modify'"}]},[e._v("Select the account you want to modify. "),n("strong",[e._v("If you leave the username blank your account will be modifed")])]),n("b-form-input",{attrs:{id:e.usernameInputId,type:"text",name:"usernameInput",placeholder:"Enter username",required:""},model:{value:e.usernameInput,callback:function(t){e.usernameInput=t},expression:"usernameInput"}})],1),n("b-form-group",{attrs:{label:"Password:","label-for":e.passwordInputId}},[n("b-form-text",{directives:[{name:"show",rawName:"v-show",value:"modify"===e.context,expression:"context === 'modify'"}]},[e._v(" Insert the new password ")]),n("b-form-input",{attrs:{id:e.passwordInputId,type:"password",name:"passwordInput",placeholder:"Enter password",required:""},model:{value:e.passwordInput,callback:function(t){e.passwordInput=t},expression:"passwordInput"}})],1)],1)},b=[],w=n("ec26"),_={name:"Credential",props:["applicant","required","context","username","password"],data:function(){return{usernameInputId:"",passwordInputId:""}},computed:{usernameInput:{get:function(){return this.username},set:function(e){this.$emit("update:username",e)}},passwordInput:{get:function(){return this.password},set:function(e){this.$emit("update:password",e)}}},mounted:function(){!0!==this.required&&(document.getElementById(this.usernameInputId).removeAttribute("required"),document.getElementById(this.passwordInputId).removeAttribute("required"))},created:function(){this.usernameInputId=Object(w["a"])(),this.passwordInputId=Object(w["a"])()}},I=_,y=Object(l["a"])(I,v,b,!1,null,null,null),L=y.exports,x=n("8206"),F=n.n(x),$={name:"Login",components:{Credential:L},data:function(){return{username:"",password:""}},methods:{login:function(){var e=this;F.a.post("".concat("/api","/login"),{username:this.username,password:this.password}).then((function(t){localStorage.setItem("JWTToken",t.data),localStorage.setItem("Username",e.username),e.$emit("loginuser",e.username),e.$emit("login","Login done - "+e.username)})).catch((function(t){e.$emit("login",t.response.data)}))}}},R=$,S=Object(l["a"])(R,h,g,!1,null,null,null),C=S.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("header",[n("h3",[e._v("Registration "+e._s(e.role))])]),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.Register.apply(null,arguments)},reset:e.reset}},[n("AccountInfo",{attrs:{required:!0,name:e.name,email:e.email},on:{"update:name":function(t){e.name=t},"update:email":function(t){e.email=t}}}),n("Credential",{attrs:{required:!0,context:e.role,username:e.username,password:e.password},on:{"update:username":function(t){e.username=t},"update:password":function(t){e.password=t}}}),"uploader"===e.role?n("Logo",{attrs:{required:!0,logo:e.logo},on:{"update:logo":function(t){e.logo=t}}}):e._e(),n("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Register")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1)},k=[],T=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-form-group",{attrs:{label:"Name/Surname:","label-for":e.nameInputId}},[n("b-form-text",{directives:[{name:"show",rawName:"v-show",value:"modify"===e.context,expression:"context === 'modify'"}]},[e._v("New Name and Surname, leave empty if you don't want to modify it ")]),n("b-form-text",{directives:[{name:"show",rawName:"v-show",value:"load"===e.context,expression:"context === 'load'"}]},[e._v(" If the consumer is a new one enter Name/Surname ")]),n("b-form-input",{attrs:{id:e.nameInputId,type:"text",name:"nameInput",maxlength:"100",placeholder:"Enter name",required:""},model:{value:e.nameInput,callback:function(t){e.nameInput=t},expression:"nameInput"}})],1),n("b-form-group",{attrs:{label:"Email:","label-for":e.emailInputId}},[n("b-form-text",{directives:[{name:"show",rawName:"v-show",value:"modify"===e.context,expression:"context === 'modify'"}]},[e._v("New mail, leave empty if you don't want to modify it")]),n("b-form-text",{directives:[{name:"show",rawName:"v-show",value:"load"===e.context,expression:"context === 'load'"}]},[e._v(" If the consumer is a new one enter email ")]),n("b-form-input",{attrs:{id:e.emailInputId,type:"email",name:"emailInput",maxlength:"100",placeholder:"Enter email",required:""},model:{value:e.emailInput,callback:function(t){e.emailInput=t},expression:"emailInput"}})],1)],1)}),E=[],N={name:"Userinfo",props:["required","context","name","email"],data:function(){return{nameInputId:"",emailInputId:""}},computed:{nameInput:{get:function(){return this.name},set:function(e){this.$emit("update:name",e)}},emailInput:{get:function(){return this.email},set:function(e){this.$emit("update:email",e)}}},mounted:function(){!0!==this.required&&(document.getElementById(this.nameInputId).removeAttribute("required"),document.getElementById(this.emailInputId).removeAttribute("required"))},created:function(){this.nameInputId=Object(w["a"])(),this.emailInputId=Object(w["a"])()}},U=N,M=Object(l["a"])(U,T,E,!1,null,null,null),O=M.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-form-group",{attrs:{id:"input-grouplogo",label:"Logo:","label-for":e.idLogo}},[n("b-form-file",{attrs:{id:e.idLogo,type:"file",name:"logoInput",placeholder:"Choose an image or drop it here...","drop-placeholder":"Drop image here...",accept:"image/*",required:""},on:{change:e.handlelogo},model:{value:e.logoInput,callback:function(t){e.logoInput=t},expression:"logoInput"}})],1),n("b-form-group",{directives:[{name:"show",rawName:"v-show",value:e.logoStringInput,expression:"logoStringInput"}],attrs:{label:"Logo preview:"}},[n("b-card",[n("b-avatar",{attrs:{size:"lg",src:""+e.logoStringInput,alt:"Logo preview"}})],1)],1)],1)},j=[],q={name:"Logo",props:["required","logo"],data:function(){return{idLogo:"",logoInput:null}},methods:{handlelogo:function(e){var t=e.target.files[0];this.transformbase64(t)},transformbase64:function(e){var t=this,n=new FileReader;n.onload=function(e){t.logoStringInput=e.target.result},n.onerror=function(e){console.log("Error: ",e)},n.readAsDataURL(e)}},watch:{logoStringInput:function(){""===this.logoStringInput&&(this.logoInput=null)}},computed:{logoStringInput:{get:function(){return this.logo},set:function(e){this.$emit("update:logo",e)}}},mounted:function(){!0!==this.required&&document.getElementById(this.idLogo).removeAttribute("required")},created:function(){this.idLogo=Object(w["a"])()}},z=q,P=Object(l["a"])(z,A,j,!1,null,null,null),W=P.exports,B={name:"Registration",props:["applicant","role"],components:{Credential:L,AccountInfo:O,Logo:W},data:function(){return{username:"",password:"",name:"",email:"",logo:""}},methods:{Register:function(){var e=this;F.a.post("".concat("/api","/accounts/registration"),{username:this.username,password:this.password,name:this.name,email:this.email,role:this.role,logo:this.logo}).then((function(t){var n={username:e.username,password:e.password,name:e.name,email:e.email,role:e.role,logo:e.logo};e.$emit("registrationuser",n),e.$emit("registration",t.data),e.reset()})).catch((function(t){e.$emit("registration",t.response.data)}))},reset:function(){this.username="",this.password="",this.name="",this.email="",this.logo=""}}},H=B,J=Object(l["a"])(H,D,k,!1,null,null,null),V=J.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-toast",{attrs:{id:"error_toast",title:"ERR",variant:"danger"}},[e._v(e._s(e.error))]),n("b-toast",{attrs:{id:"warning_toast",title:"WAR",variant:"warning"}},[e._v(e._s(e.warning))]),n("b-toast",{attrs:{id:"success_toast",title:"SUCCESS",variant:"success"}},[e._v(e._s(e.success))])],1)},G=[],K={name:"Toasts",props:["error","warning","success"]},Q=K,X=Object(l["a"])(Q,Y,G,!1,null,null,null),Z=X.exports,ee={name:"Home_page",components:{Registration:V,Login:C,Toasts:Z},data:function(){return{section:"home",error:"",warning:"",success:""}},methods:{displayMessage:function(e){e.startsWith("ERR")||e.startsWith("Er")?(this.error=e,this.$bvToast.show("error_toast")):e.startsWith("WAR")?(this.warning=e,this.$bvToast.show("warning_toast")):(this.success=e,this.$bvToast.show("success_toast"))},loginuserpage:function(e){var t=this;setTimeout((function(){e.includes("@")?t.$router.push("/admin_page"):4===e.length?t.$router.push("/uploader_page"):16===e.length?t.$router.push("/consumer_page"):t.displayMessage("ERR: User unrecognized")}),3e3)},registration:function(e){this.displayMessage(e),this.section="home"}},created:function(){console.clear(),console.log("/api")}},te=ee,ne=Object(l["a"])(te,p,f,!1,null,null,null),ae=ne.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("hader",[n("Navigationbar",{attrs:{applicant:"consumer",mainReport:"Uploaders",secondaryReport:"Uploader Files"},on:{showSection:e.showSection,logout:e.displayMessage}},[e._v("Consumer "+e._s(e.usernameConsumer)+" ")])],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"home"===e.section,expression:"section === 'home'"}]},[e._m(0),n("List",{attrs:{items:e.uploaderList,fields:e.uploaderListFields,busy:e.loadData},on:{showFiles:e.showFiles}})],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"list2"===e.section,expression:"section === 'list2'"}]},[n("header",[n("h3",[e._v("Files uploaded by "+e._s(e.uploaderConfirmed.name))])]),n("b-img",{attrs:{id:"Pagelogo",rounded:"circle",src:""+e.uploaderConfirmed.logo,alt:"uploader logo"}}),n("b-form",{attrs:{inline:""},on:{submit:function(t){return t.preventDefault(),e.hashtagFilter.apply(null,arguments)}}},[n("b-form-input",{attrs:{id:"hashtag",name:"hashtag",type:"text",maxlength:"100",placeholder:"hashtag"},model:{value:e.hashtag,callback:function(t){e.hashtag=t},expression:"hashtag"}}),n("b-button",{attrs:{type:"submit",variant:"primary",size:"sm"}},[e._v("Filter hashtag ")]),n("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){e.hashtag="",e.hashtagFilter()}}},[e._v(" Reset")])],1),n("List",{attrs:{items:e.uploaderFilesList,fields:e.uploaderFilesListFields,busy:e.loadData},on:{downloadFile:e.download}})],1),n("Modify",{directives:[{name:"show",rawName:"v-show",value:"modifyInfo"===e.section,expression:"section === 'modifyInfo'"}],attrs:{applicant:"consumer",role:"consumer"},on:{modInfo:e.displayMessage}}),n("Toasts",{attrs:{error:e.error,warning:e.warning,success:e.success}})],1)},ie=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Uploader List")])])}],se=(n("4de4"),n("4e82"),n("99af"),n("c740"),n("3ca3"),n("ddb0"),n("2b3d"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("header",[n("h3",[e._v("Modify Information "+e._s(e.role))])]),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.modify.apply(null,arguments)},reset:e.reset}},[n("Credential",{attrs:{applicant:e.applicant,required:!1,context:"modify",username:e.username,password:e.password},on:{"update:username":function(t){e.username=t},"update:password":function(t){e.password=t}}}),n("AccountInfo",{attrs:{required:!1,context:"modify",name:e.name,email:e.email},on:{"update:name":function(t){e.name=t},"update:email":function(t){e.email=t}}}),"uploader"===e.role?n("Logo",{attrs:{required:!1,logo:e.logo},on:{"update:logo":function(t){e.logo=t}}}):e._e(),n("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Modify")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1)}),re=[],le={name:"ModInfo",props:["applicant","role"],components:{Credential:L,AccountInfo:O,Logo:W},data:function(){return{username:"",password:"",name:"",email:"",logo:""}},methods:{modify:function(){var e=this;F.a.post("".concat("/api","/accounts/modify"),{username:this.username,password:this.password,name:this.name,email:this.email,role:this.role,logo:this.logo}).then((function(t){var n={user:t.data,role:e.role};e.$emit("modinfouser",n),""!==e.username?e.$emit("modInfo","Actor modified - "+e.username):e.$emit("modInfo","Self info modified"),e.reset()})).catch((function(t){e.$emit("modInfo",t.response.data)}))},reset:function(){this.username="",this.password="",this.name="",this.email="",this.logo=""}}},ue=le,ce=Object(l["a"])(ue,se,re,!1,null,null,null),me=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-brand",{staticClass:"ml-my",on:{click:function(t){return e.$emit("showSection","home")}}},[n("h2",[e._t("default")],2)]),n("b-navbar-nav",{staticClass:"ml-auto"},[n("Logout",{on:{logout:function(t){return e.$emit("logout")}}})],1),n("b-navbar-toggle",{attrs:{target:"navbar-toggle-collapse"}}),n("b-collapse",{attrs:{id:"navbar-toggle-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item",{on:{click:function(t){return e.$emit("showSection","home")}}},[e._v(" "+e._s(e.mainReport))]),n("b-nav-item",{directives:[{name:"show",rawName:"v-show",value:"administrator"===e.applicant||"consumer"===e.applicant,expression:"applicant === 'administrator' || applicant === 'consumer'"}],on:{click:function(t){return e.$emit("showSection","list2")}}},[e._v(" "+e._s(e.secondaryReport))]),"administrator"===e.applicant?n("b-nav-item-dropdown",{attrs:{text:"Register account"}},[n("b-dropdown-item",{on:{click:function(t){e.$emit("showSection","registration"),e.$emit("formRole","administrator")}}},[e._v("Administrator")]),n("b-dropdown-item",{on:{click:function(t){e.$emit("showSection","registration"),e.$emit("formRole","uploader")}}},[e._v("Uploader")])],1):e._e(),"uploader"===e.applicant?n("b-nav-item",{on:{click:function(t){e.$emit("showSection","registration"),e.$emit("formRole","consumer")}}},[e._v("Register consumer")]):e._e(),"consumer"===e.applicant?n("b-nav-item",{on:{click:function(t){e.$emit("showSection","modifyInfo"),e.$emit("formRole","consumer")}}},[e._v("Modify Info")]):n("b-nav-item-dropdown",{attrs:{text:"Modify Info user"}},["administrator"===e.applicant?n("b-dropdown-item",{on:{click:function(t){e.$emit("showSection","modifyInfo"),e.$emit("formRole","administrator")}}},[e._v("Administrator")]):e._e(),n("b-dropdown-item",{on:{click:function(t){e.$emit("showSection","modifyInfo"),e.$emit("formRole","uploader")}}},[e._v("Uploader")]),n("b-dropdown-item",{on:{click:function(t){e.$emit("showSection","modifyInfo"),e.$emit("formRole","consumer")}}},[e._v("Consumer")])],1),"uploader"===e.applicant?n("b-nav-item",{on:{click:function(t){return e.$emit("showSection","load")}}},[e._v("Upload file")]):e._e(),"consumer"!==e.applicant?n("b-nav-item",{on:{click:function(t){return e.$emit("showSection","delete")}}},[e._v("Delete")]):e._e()],1)],1)],1)],1)},pe=[],fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-button",{attrs:{variant:"primary"},on:{click:e.logout}},[e._v("Logout")])},he=[],ge={name:"Logout",methods:{logout:function(){var e=this;F.a.get("".concat("/api","/logout")).then((function(t){e.$emit("logout",t.data),localStorage.removeItem("JWTToken"),localStorage.removeItem("Username"),e.$router.push("/")}))}}},ve=ge,be=Object(l["a"])(ve,fe,he,!1,null,null,null),we=be.exports,_e={name:"Navigationbar",props:["applicant","mainReport","secondaryReport"],components:{Logout:we}},Ie=_e,ye=(n("ed6c"),Object(l["a"])(Ie,de,pe,!1,null,"1ba690a5",null)),Le=ye.exports,xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{sm:"6"}},[n("b-form-group",{attrs:{label:"For page:","label-for":e.per_page_select,"label-align":"left","label-size":"sm","label-cols":"auto","content-cols":"auto"}},[n("b-form-select",{attrs:{id:e.per_page_select,options:e.pageOptions,size:"sm"},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}})],1)],1),n("b-col",{attrs:{sm:"6"}},[n("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1),n("b-table",{attrs:{"caption-top":"",striped:"true",hover:"true",responsive:"true",bordered:"true",outlined:"true",stacked:"sm","head-variant":"light","table-variant":"secondary","sticky-header":"600px",items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,"tbody-tr-class":e.highlightNew,busy:e.busy},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-primary my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[e._v("Loading...")])],1)]},proxy:!0},{key:"table-caption",fn:function(){return[e._v(e._s(e.tableDescription))]},proxy:!0},{key:"cell(logo)",fn:function(e){return[n("b-img",{attrs:{rounded:"circle",src:""+e.item.logo,alt:"Logo uploader"}})]}},{key:"cell(info)",fn:function(t){return[n("b-button",{on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"Hide":"Show")+" Details ")])]}},{key:"cell(files)",fn:function(t){return[n("b-button",{attrs:{variant:"info"},on:{click:function(n){return e.$emit("showFiles",t.item.username)}}},[e._v("Show files")])]}},{key:"cell(download)",fn:function(t){return[n("b-button",{on:{click:function(n){return e.$emit("downloadFile",t.item.id)}}},[e._v(" Download ")])]}},{key:"row-details",fn:function(t){return[n("b-card",[n("b-row",[n("b-col",{attrs:{sm:"3"}},[n("b",[e._v("Username:")])]),n("b-col",[e._v(e._s(t.item.username))])],1),n("b-row",[n("b-col",{attrs:{sm:"3"}},[n("b",[e._v("Email:")])]),n("b-col",[e._v(e._s(t.item.email))])],1)],1)]}}])}),0===e.items.length?n("div",[n("p",[e._v("No element")])]):e._e()],1)},Fe=[],$e={name:"List",props:["items","fields","busy","tableDescription","itemsUploader","fieldsUploader"],data:function(){return{currentPage:1,perPage:5,per_page_select:"",pageOptions:[5,10,15,{value:100,text:"Show many"}]}},methods:{highlightNew:function(e,t){if(e&&"data"===t)return""===e.dataView?"table-primary":void 0}},computed:{totalRows:function(){return this.items.length}},created:function(){this.per_page_select=Object(w["a"])()}},Re=$e,Se=(n("073c"),Object(l["a"])(Re,xe,Fe,!1,null,"30923d3b",null)),Ce=Se.exports,De={name:"Consumer_page",components:{Modify:me,Navigationbar:Le,List:Ce,Toasts:Z},data:function(){return{usernameConsumer:"",section:"home",error:"",warning:"",success:"",hashtag:"",uploaderConfirmed:"",consumerFilesList:[],uploaderList:[],uploaderListFields:["logo","name","info","files"],uploaderFilesList:[],uploaderFilesListFields:["name",{key:"dataUpload",sortable:!0},{key:"dataView",sortable:!0},"hashtag","download"],loadData:!1}},watch:{uploaderConfirmed:function(){""!==this.uploaderConfirmed&&this.showFiles(this.uploaderConfirmed.username)}},methods:{showSection:function(e){this.section=e},displayMessage:function(e){e.startsWith("ERR")||e.startsWith("Er")?(this.error=e,this.$bvToast.show("error_toast")):e.startsWith("WAR")?(this.warning=e,this.$bvToast.show("warning_toast")):(this.success=e,this.$bvToast.show("success_toast"))},showFiles:function(e){var t=this;this.section="list2",this.uploaderFilesList=this.consumerFilesList.filter((function(t){return t.usernameUpl===e})),this.uploaderList.every((function(n){return n.username!==e||(t.uploaderConfirmed=n,!1)}))},orederingFile:function(){var e=this;this.consumerFilesList.sort((function(e,t){if(""===e.visualizationDate^""===t.visualizationDate){if(e.visualizationDate<t.visualizationDate)return-1;if(e.visualizationDate>t.visualizationDate)return 1}return e.loadDate<t.loadDate?1:e.loadDate>t.loadDate?-1:0})),this.uploaderFilesList=this.consumerFilesList.filter((function(t){return t.usernameUpl===e.uploaderConfirmed.username}))},download:function(e){var t=this;this.loadData=!0,F.a.get("".concat("/api","/files/download/").concat(e),{responseType:"arraybuffer"}).then((function(n){var a=t.consumerFilesList.findIndex((function(t){return t.id===e})),o=document.createElement("a");o.style.display="none",o.download=t.consumerFilesList[a].name;var i=new Blob([n.data],{type:"application/octet-stream"});if(o.href=window.URL.createObjectURL(i),document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(o.href),""===t.consumerFilesList[a].visualizationDate){var s=new Date,r=s.toISOString().substring(0,10)+" "+s.getUTCHours();t.consumerFilesList[a].visualizationDate=r,t.orederingFile()}t.displayMessage("Download done")})).catch((function(e){t.displayMessage(e.response.data)})).finally((function(){t.loadData=!1}))},hashtagFilter:function(){var e=this;this.uploaderFilesList=null,this.uploaderFilesList=this.consumerFilesList.filter((function(t){return t.hashtag.includes(e.hashtag)&&t.usernameUpl===e.uploaderConfirmed.username}))}},created:function(){var e=this;this.loadData=!0,F.a.get("".concat("/api","/list/uploaders")).then((function(t){e.uploaderList=t.data,1===e.uploaderList.length&&(e.uploaderConfirmed=e.uploaderList[0])})).catch((function(t){return e.displayMessage(t.toString())})),F.a.get("".concat("/api","/list/consumer/files")).then((function(t){e.consumerFilesList=t.data,""!=e.uploaderConfirmed&&e.showFiles(e.uploaderConfirmed.username)})).catch((function(t){return e.displayMessage(t.toString())})).finally((function(){e.loadData=!1}))},mounted:function(){this.usernameConsumer=localStorage.getItem("Username")}},ke=De,Te=(n("7e9a"),Object(l["a"])(ke,oe,ie,!1,null,"582718ec",null)),Ee=Te.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("header",[n("Navigationbar",{attrs:{applicant:"uploader",mainReport:"Consumers",secondaryReport:"Files"},on:{showSection:e.showSection,formRole:e.manageRole,logout:e.displayMessage}},[e._v("Uploader "+e._s(e.usernameUploader)+" ")])],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"home"===e.section,expression:"section === 'home'"}]},[e._m(0),n("List",{attrs:{items:e.consumerList,fields:e.consumerListFields,busy:e.loadData},on:{showFiles:e.showFiles}})],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"list2"===e.section,expression:"section === 'list2'"}]},[n("header",[n("h3",[e._v("Files of "+e._s(e.consumerSelected))])]),n("List",{attrs:{items:e.consumerFilesList,fields:e.consumerFilesListFields,busy:e.loadData}})],1),n("Registration",{directives:[{name:"show",rawName:"v-show",value:"registration"===e.section,expression:"section === 'registration'"}],attrs:{applicant:"uploader",role:"consumer"},on:{registrationuser:e.registration_user,registration:e.displayMessage}}),n("ModInfo",{directives:[{name:"show",rawName:"v-show",value:"modifyInfo"===e.section,expression:"section === 'modifyInfo'"}],attrs:{applicant:"uploader",role:e.formRole},on:{modinfouser:e.modinfo_user,modInfo:e.displayMessage}}),n("Load",{directives:[{name:"show",rawName:"v-show",value:"load"===e.section,expression:"section === 'load'"}],on:{uploadconsumer:e.upload_consumer,uploadfile:e.upload_file,upload:e.displayMessage}}),n("Delete",{directives:[{name:"show",rawName:"v-show",value:"delete"===e.section,expression:"section === 'delete'"}],attrs:{applicant:"uploader",listFile:e.listFile,listUsername:e.listUsername},on:{deleteusername:e.delete_user,deletefile:e.delete_file,delete:e.displayMessage}}),n("Toasts",{attrs:{error:e.error,warning:e.warning,success:e.success}})],1)},Ue=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Consumer List")])])}],Me=(n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("section",[e._m(0),n("b-container",{attrs:{fluid:""}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.deleteActor.apply(null,arguments)}}},[n("label",{attrs:{for:"username"}},[e._v("Username account to delete")]),n("b-form-input",{attrs:{list:"username-list",id:"username",type:"text",name:"username",placeholder:"username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("b-form-datalist",{attrs:{id:"username-list",options:e.listUsername}}),n("b-button",{attrs:{type:"submit",variant:"danger"}},[e._v("Delete")])],1)],1)],1),"uploader"===e.applicant?n("section",[e._m(1),n("b-container",{attrs:{fluid:""}},[n("b-form",{on:{submit:function(t){return t.preventDefault(),e.deleteFile.apply(null,arguments)}}},[n("label",{attrs:{for:"file"}},[e._v("File Id")]),n("b-form-input",{attrs:{list:"file-list",id:"file",type:"text",name:"file",placeholder:"file Id",required:""},model:{value:e.fileId,callback:function(t){e.fileId=t},expression:"fileId"}}),n("b-form-datalist",{attrs:{id:"file-list",options:e.listFile}}),n("b-button",{attrs:{type:"submit",variant:"danger"}},[e._v("Delete")])],1)],1)],1):e._e()])}),Oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Delete Account")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Delete File")])])}],Ae={name:"Delete",props:["applicant","listUsername","listFile"],data:function(){return{username:"",fileId:""}},methods:{deleteActor:function(){var e=this;F.a.delete("".concat("/api","/accounts/delete/").concat(this.username)).then((function(t){e.$emit("deleteusername",e.username),e.username="",e.$emit("delete",t.data)})).catch((function(t){e.$emit("delete",t.response.data)}))},deleteFile:function(){var e=this;F.a.delete("".concat("/api","/files/delete/").concat(this.fileId)).then((function(t){e.$emit("deletefile",e.fileId),e.fileId="",e.$emit("delete",t.data)})).catch((function(t){e.$emit("delete",t.response.data)}))}}},je=Ae,qe=Object(l["a"])(je,Me,Oe,!1,null,null,null),ze=qe.exports,Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[e._m(0),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.upload.apply(null,arguments)},reset:e.reset}},[n("File",{attrs:{file:e.file,fileName:e.fileName,hashtag:e.hashtag,extension:e.extension},on:{"update:file":function(t){e.file=t},"update:fileName":function(t){e.fileName=t},"update:file-name":function(t){e.fileName=t},"update:hashtag":function(t){e.hashtag=t},"update:extension":function(t){e.extension=t}}}),n("b-container",{attrs:{fluid:""}},[n("b-form-group",{attrs:{id:"consumer-group",label:" Username Consumer:","label-for":"usernameConsumer"}},[n("b-form-input",{attrs:{id:"usernameConsumer",type:"text",name:"usernameConsumer",placeholder:"username consumer"},model:{value:e.usernameConsumer,callback:function(t){e.usernameConsumer=t},expression:"usernameConsumer"}})],1)],1),n("AccountInfo",{attrs:{context:"load",required:!1,name:e.nameConsumer,email:e.emailConsumer},on:{"update:name":function(t){e.nameConsumer=t},"update:email":function(t){e.emailConsumer=t}}}),n("b-button",{attrs:{type:"submit",variant:"success"}},[e._v("Upload")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1)},We=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Upload file")])])}],Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-form-group",{attrs:{id:"input-groupfile",label:"File:","label-for":"fileInput"}},[n("b-form-file",{attrs:{id:"fileInput",type:"file",name:"fileInput",placeholder:"Choose a file or drop it here...","drop-placeholder":"Drop file here...",required:""},on:{change:e.handlefile},model:{value:e.fileInput,callback:function(t){e.fileInput=t},expression:"fileInput"}})],1),n("b-form-group",{attrs:{id:"nameinput-groupfile",label:"File Name:","label-for":"filenNameInput"}},[n("b-form-input",{attrs:{id:"filenNameInput",type:"text",name:"filenNameInput",maxlength:"100",placeholder:"file name",required:""},model:{value:e.filenNameInput,callback:function(t){e.filenNameInput=t},expression:"filenNameInput"}})],1),n("b-form-group",{attrs:{id:"input-grouphashtag",label:"Hashtag:","label-for":"hashtagInput"}},[n("b-form-input",{attrs:{id:"hashtagInput",type:"text",name:"hashtagInput",maxlength:"100",placeholder:"Hashtags"},model:{value:e.hashtagInput,callback:function(t){e.hashtagInput=t},expression:"hashtagInput"}})],1)],1)},He=[],Je=(n("ac1f"),n("5319"),{name:"File",props:["file","fileName","hashtag","extension"],data:function(){return{fileInput:null}},methods:{handlefile:function(e){var t=e.target.files[0];this.transformbase64(t)},transformbase64:function(e){var t=this,n=new FileReader;n.onload=function(e){t.fileStringInput=e.target.result.replace(/^data:.+;base64,/,"")},n.onerror=function(e){console.log("Error: ",e)},n.readAsDataURL(e);var a=e.name,o=a.lastIndexOf(".");this.$emit("update:extension",a.substring(o))}},watch:{fileStringInput:function(){""===this.fileStringInput&&(this.fileInput=null)}},computed:{fileStringInput:{get:function(){return this.file},set:function(e){this.$emit("update:file",e)}},filenNameInput:{get:function(){return this.fileName},set:function(e){this.$emit("update:fileName",e)}},hashtagInput:{get:function(){return this.hashtag},set:function(e){this.$emit("update:hashtag",e)}}}}),Ve=Je,Ye=Object(l["a"])(Ve,Be,He,!1,null,null,null),Ge=Ye.exports,Ke={name:"Load",components:{File:Ge,AccountInfo:O},data:function(){return{file:"",fileName:"",hashtag:"",extension:"",usernameConsumer:"",nameConsumer:"",emailConsumer:""}},methods:{upload:function(){var e=this;F.a.post("".concat("/api","/files/upload"),{file:this.file,fileName:this.fileName+this.extension,hashtag:this.hashtag,usernameConsumer:this.usernameConsumer,nameConsumer:this.nameConsumer,emailConsumer:this.emailConsumer}).then((function(t){var n={username:e.usernameConsumer,name:e.nameConsumer,email:e.emailConsumer,logo:""};e.$emit("uploadconsumer",n),e.$emit("uploadfile",t.data),e.$emit("upload","Upload :"+e.fileName+" completed"),e.reset()})).catch((function(t){e.$emit("upload",t.response.data)}))},reset:function(){this.file="",this.fileName="",this.hashtag="",this.extension="",this.usernameConsumer="",this.nameConsumer="",this.emailConsumer=""}}},Qe=Ke,Xe=Object(l["a"])(Qe,Pe,We,!1,null,null,null),Ze=Xe.exports,et={name:"Uploader_page",components:{Registration:V,ModInfo:me,Load:Ze,Delete:ze,Navigationbar:Le,List:Ce,Toasts:Z},data:function(){return{usernameUploader:"",section:"home",error:"",warning:"",success:"",formRole:"",consumerSelected:"",uploaderFilesList:[],consumerList:[],consumerListFields:["name","files","info"],consumerFilesList:[],consumerFilesListFields:["id","name",{key:"dataUpload",sortable:!0},{key:"dataView",sortable:!0},"indIp","hashtag"],loadData:!1}},computed:{listUsername:function(){var e=[];return this.consumerList.forEach((function(t){e.push(t.username)})),e},listFile:function(){var e=[];return this.uploaderFilesList.forEach((function(t){e.push(t.id)})),e}},methods:{updateBartitle:function(){this.bartitle=localStorage.getItem("Username")},showSection:function(e){this.section=e},displayMessage:function(e){e.startsWith("ERR")||e.startsWith("Er")?(this.error=e,this.$bvToast.show("error_toast")):e.startsWith("WAR")?(this.warning=e,this.$bvToast.show("warning_toast")):(this.success=e,this.$bvToast.show("success_toast"))},manageRole:function(e){this.formRole=e},showFiles:function(e){this.consumerSelected=e,this.consumerFilesList=null,this.consumerFilesList=this.uploaderFilesList.filter((function(t){return t.usernameCons===e})),this.section="list2"},registration_user:function(e){var t=e.username,n=e.name,a=e.email,o={username:t,name:n,email:a};this.consumerList.push(o)},modinfo_user:function(e){var t=e.user,n=e.role;"consumer"===n&&(this.consumerList=this.consumerList.filter((function(e){return e.username===t.username})),this.consumerList.push(t))},upload_consumer:function(e){var t=e.username;-1===this.consumerList.findIndex((function(e){return e.username===t}))&&this.consumerList.push(e)},upload_file:function(e){this.uploaderFilesList.push(e),e.usernameCons===this.consumerSelected&&this.consumerFilesList.push(e),this.orederingFile()},delete_user:function(e){this.consumerList=this.consumerList.filter((function(t){return t.username!==e})),this.uploaderFilesList=this.uploaderFilesList.filter((function(t){return t.usernameConsumer!==e})),e===this.consumerSelected&&(this.consumerSelected="",this.consumerFilesList=[])},delete_file:function(e){this.uploaderFilesList=this.uploaderFilesList.filter((function(t){return t.id!==e})),this.consumerFilesList=this.consumerFilesList.filter((function(t){return t.id!==e}))},orederingFile:function(){var e=this;this.uploaderFilesList.sort((function(e,t){if(""===e.visualizationDate^""===t.visualizationDate){if(e.visualizationDate<t.visualizationDate)return-1;if(e.visualizationDate>t.visualizationDate)return 1}return e.loadDate<t.loadDate?1:e.loadDate>t.loadDate?-1:0})),this.consumerFilesList=this.uploaderFilesList.filter((function(t){return t.usernameConsumer===e.consumerSelected}))}},created:function(){var e=this;this.loadData=!0,F.a.get("".concat("/api","/list/consumers")).then((function(t){return e.consumerList=t.data})).catch((function(t){return e.displayMessage(t.toString())})),F.a.get("".concat("/api","/list/uploader/files")).then((function(t){e.uploaderFilesList=t.data,console.log("response from uploader files api: "+t.data)})).catch((function(t){return e.displayMessage(t.toString())})).finally((function(){e.loadData=!1}))},mounted:function(){this.usernameUploader=localStorage.getItem("Username")}},tt=et,nt=Object(l["a"])(tt,Ne,Ue,!1,null,null,null),at=nt.exports,ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",[n("header",[n("Navigationbar",{attrs:{applicant:"administrator",mainReport:"Resume",secondaryReport:"Administrators"},on:{showSection:e.showSection,formRole:e.manageRole,logout:e.displayMessage}},[e._v("Admin "+e._s(e.usernameAdmin)+" ")])],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"home"===e.section,expression:"section === 'home'"}]},[e._m(0),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.date.apply(null,arguments)},reset:function(t){return t.preventDefault(),e.lastMonth.apply(null,arguments)}}},[n("Datepicker",{attrs:{dateFrom:e.dateFrom,dateTo:e.dateTo},on:{"update:dateFrom":function(t){e.dateFrom=t},"update:date-from":function(t){e.dateFrom=t},"update:dateTo":function(t){e.dateTo=t},"update:date-to":function(t){e.dateTo=t}}}),n("b-button-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Filter")]),n("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1)],1),n("List",{attrs:{items:e.adminReportList,fields:e.adminReportListFields,tableDescription:e.description,busy:e.loadData}})],1),n("section",{directives:[{name:"show",rawName:"v-show",value:"list2"===e.section,expression:"section === 'list2'"}]},[e._m(1),n("List",{attrs:{items:e.adminList,fields:e.adminListFields,busy:e.loadData}})],1),n("Registration",{directives:[{name:"show",rawName:"v-show",value:"registration"===e.section,expression:"section === 'registration'"}],attrs:{applicant:"administrator",role:e.formRole},on:{registrationuser:e.registration_user,registration:e.displayMessage}}),n("ModInfo",{directives:[{name:"show",rawName:"v-show",value:"modifyInfo"===e.section,expression:"section === 'modifyInfo'"}],attrs:{applicant:"administrator",role:e.formRole},on:{modinfouser:e.modinfo_user,modInfo:e.displayMessage}}),n("Delete",{directives:[{name:"show",rawName:"v-show",value:"delete"===e.section,expression:"section === 'delete'"}],attrs:{applicant:"administrator",listUsername:e.listUsername},on:{deleteusername:e.delete_user,delete:e.displayMessage}}),n("Toasts",{attrs:{error:e.error,warning:e.warning,success:e.success}})],1)},it=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Resume")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("h3",[e._v("Administrators List")])])}],st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("label",{attrs:{for:"dateFromIn"}},[e._v("FROM")]),n("b-form-datepicker",{attrs:{id:"dateFromIn",type:"date",name:"dateFromIn",locale:"en","menu-class":"w-100","calendar-width":"100%"},model:{value:e.dateFromIn,callback:function(t){e.dateFromIn=t},expression:"dateFromIn"}})],1),n("b-col",{attrs:{cols:"6"}},[n("label",{attrs:{for:"dateFromIn"}},[e._v("TO")]),n("b-form-datepicker",{attrs:{id:"dateToIn",type:"date",name:"dateToIn",locale:"en","menu-class":"w-100","calendar-width":"100%"},model:{value:e.dateToIn,callback:function(t){e.dateToIn=t},expression:"dateToIn"}})],1)],1)],1)},rt=[],lt={name:"Datepicker",props:["dateFrom","dateTo"],computed:{dateFromIn:{get:function(){return this.dateFrom},set:function(e){this.$emit("update:dateFrom",e)}},dateToIn:{get:function(){return this.dateTo},set:function(e){this.$emit("update:dateTo",e)}}}},ut=lt,ct=Object(l["a"])(ut,st,rt,!1,null,null,null),mt=ct.exports,dt={name:"Admin_page",components:{Navigationbar:Le,Registration:V,ModInfo:me,Delete:ze,Datepicker:mt,List:Ce,Toasts:Z},data:function(){return{usrnameAdmin:"",section:"home",error:"",warning:"",success:"",loadData:!1,adminReportList:[],adminList:[],dateFrom:"",dateTo:"",dateFromConfirmed:"",dateToConfirmed:"",formRole:"",adminReportListFields:["logo","username","name",{key:"uploadedDocs",sortable:!0},{key:"uploaderConsumers",sortable:!0},"info"],adminListFields:["name","info"]}},computed:{listUsername:function(){var e=[];return this.adminReportList.forEach((function(t){e.push(t.username)})),this.adminList.forEach((function(t){e.push(t.username)})),e},description:function(){return"data from "+this.dateFromConfirmed.substring(8,10)+"/"+this.dateFromConfirmed.substring(5,7)+"/"+this.dateFromConfirmed.substring(0,4)+" to "+this.dateToConfirmed.substring(8,10)+"/"+this.dateToConfirmed.substring(5,7)+"/"+this.dateToConfirmed.substring(0,4)}},methods:{showSection:function(e){this.section=e},displayMessage:function(e){e.startsWith("ERR")||e.startsWith("Er")?(this.error=e,this.$root.$bvToast.show("error_toast")):e.startsWith("WAR")?(this.warning=e,this.$bvToast.show("warning_toast")):(this.success=e,this.$bvToast.show("success_toast"))},manageRole:function(e){this.formRole=e},registration_user:function(e){var t=e.username,n=e.name,a=e.email,o=e.role,i=e.logo;if("administrator"==o){var s={username:t,name:n,email:a};this.adminList.push(s)}else{var r={username:t,name:n,email:a,loadedDoc:0,consumerAssociated:0,logo:i};this.adminReportList.push(r)}},modinfo_user:function(e){var t=e.user,n=e.role;if("administrator"===n){var a=this.adminList.findIndex((function(e){return e.username===t.username}));-1!==a&&(this.adminList[a].name=t.name,this.adminList[a].email=t.email)}else{var o=this.adminReportList.findIndex((function(e){return e.username===t.username}));-1!==o&&(this.adminReportList[o].name=t.name,this.adminReportList[o].email=t.email)}},delete_user:function(e){4===e.length?this.adminReportList=this.adminReportList.filter((function(t){return t.username!==e})):this.adminList=this.adminList.filter((function(t){return t.username!==e}))},date:function(){var e=this;this.loadData=!0,F.a.post("".concat("/api","/list/admin/report"),{from:this.dateFrom,to:this.dateTo}).then((function(t){e.adminReportList=t.data,e.dateFromConfirmed=e.dateFrom,e.dateToConfirmed=e.dateTo,e.displayMessage("Resume done!")})).catch((function(t){return e.displayMessage(t.toString())})).finally((function(){e.loadData=!1}))},lastMonth:function(){var e=new Date;0===e.getMonth()?this.dateFrom=e.getFullYear()-1+"-12-01":e.getMonth()>9?this.dateFrom=e.getFullYear()+"-"+e.getMonth()+"-01":this.dateFrom=e.getFullYear()+"-0"+e.getMonth()+"-01",this.dateTo=e.toISOString().substring(0,8)+"01"}},created:function(){var e=this;console.log("token from admin page after login: "+localStorage.getItem("JWTToken")),this.lastMonth(),this.date(),this.loadData=!0,F.a.get("".concat("/api","/list/administrators")).then((function(t){return e.adminList=t.data})).catch((function(t){return e.displayMessage(t.toString())})).finally((function(){e.loadData=!1}))},mounted:function(){this.usernameAdmin=localStorage.getItem("Username")}},pt=dt,ft=(n("bfb6"),Object(l["a"])(pt,ot,it,!1,null,"7a734438",null)),ht=ft.exports,gt=void 0;a["default"].use(d["a"]);var vt=[{path:"/",name:"Home_page",component:ae},{path:"/consumer_page",name:"Consumer_page",component:Ee,meta:{requiresAuth:!0}},{path:"/uploader_page",name:"Uploader_page",component:at,meta:{requiresAuth:!0}},{path:"/admin_page",name:"Admin_page",component:ht,meta:{requiresAuth:!0}},{path:"*",redirect:"/"}],bt=new d["a"]({routes:vt});bt.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requiresAuth}))?localStorage.getItem("JWTToken")?t.matched.some((function(e){return e.meta.requiresAuth}))?16===localStorage.getItem("Username").length?gt.$router.push("/consumer_page"):4===localStorage.getItem("Username").length?gt.$router.push("/uploader_page"):localStorage.getItem("Username").includes("@")?gt.$router.push("/admi_page"):gt.$bvToast.toast("ERR- Username unrecognized",{title:"ERR",variant:"danger"}):n():n({path:"/",query:{redirect:e.fullPath}}):n()}));var wt=bt;F.a.interceptors.request.use((function(e){var t=localStorage.getItem("JWTToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),a["default"].use(m["a"]),a["default"].config.productionTip=!1,new a["default"]({router:wt,render:function(e){return e(c)}}).$mount("#app")},"7e9a":function(e,t,n){"use strict";n("230d")},"85ec":function(e,t,n){},bfb6:function(e,t,n){"use strict";n("fd1c")},dc29:function(e,t,n){},ed6c:function(e,t,n){"use strict";n("dc29")},fd1c:function(e,t,n){}});
//# sourceMappingURL=app.54b66c59.js.map